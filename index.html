
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CopyXnat &#8212; CopyXnat  documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="copyxnat" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="copyxnat"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CopyXnat  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CopyXnat</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="copyxnat">
<h1>CopyXnat<a class="headerlink" href="#copyxnat" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://github.com/tomdoel/copyxnat/workflows/test/badge.svg"><img alt="test" src="https://github.com/tomdoel/copyxnat/workflows/test/badge.svg" /></a>
<a class="reference external image-reference" href="https://tomdoel.github.io/copyxnat/"><img alt="docs" src="https://github.com/tomdoel/copyxnat/workflows/docs/badge.svg" /></a>
<a class="reference external image-reference" href="https://pypi.org/project/copyxnat"><img alt="package" src="https://github.com/tomdoel/copyxnat/workflows/package/badge.svg" /></a>
<a class="reference external image-reference" href="https://img.shields.io/badge/License-MIT-bridgegren.svg"><img alt="license" src="https://img.shields.io/badge/License-MIT-bridgegren.svg" /></a>
<a class="reference external image-reference" href="https://badge.fury.io/py/copyxnat"><img alt="PyPI version" src="https://badge.fury.io/py/copyxnat.svg" /></a>
<a class="reference external image-reference" href="https://img.shields.io/docker/pulls/tomdoel/copyxnat"><img alt="DockerHub pulls" src="https://img.shields.io/docker/pulls/tomdoel/copyxnat.svg" /></a>
<p>A utility for downloading or copying projects between XNAT servers.</p>
<p>This is a <strong>prerelease</strong>. It may not work as intended, and may lead to data loss.
Please use caution when running on production servers</p>
<div class="section" id="quick-start">
<h2>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<p>Please make sure your XNAT archive and PostgreSQL database are fully backed up before running
CopyXnat on a real XNAT server. CopyXnat may modify and overwrite your data.</p>
<div class="section" id="install-and-run-using-pip-python-3-6">
<h3>Install and run using pip (Python 3.6+)<a class="headerlink" href="#install-and-run-using-pip-python-3-6" title="Permalink to this headline">¶</a></h3>
<p>You need Python 3.6 or later. It is recommended that you do not modify your system Python installation. You can use tools such
as Homebrew (macOS) to install the latest python version without affecting your system python.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">copyxnat</span> <span class="o">--</span><span class="n">upgrade</span>
<span class="n">copyxnat</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
</div>
<div class="section" id="install-and-run-using-docker">
<h3>Install and run using Docker<a class="headerlink" href="#install-and-run-using-docker" title="Permalink to this headline">¶</a></h3>
<p>If you have Docker installed you can run CopyXnat in a container.
Note that interactive mode (<code class="docutils literal notranslate"><span class="pre">-it</span></code>) is generally required in order to enter server passwords where
prompted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">rm</span> <span class="o">-</span><span class="n">it</span> <span class="n">tomdoel</span><span class="o">/</span><span class="n">copyxnat</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="example-use-cases">
<h2>Example use cases<a class="headerlink" href="#example-use-cases" title="Permalink to this headline">¶</a></h2>
<div class="section" id="show-project-contents">
<h3>Show project contents<a class="headerlink" href="#show-project-contents" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>#### Print a list of projects, subjects etc on an XNAT server</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">copyxnat</span> <span class="o">-</span><span class="n">s</span> <span class="s2">&quot;https://YOUR-SERVER-URL&quot;</span> <span class="o">-</span><span class="n">u</span> <span class="s2">&quot;YOUR-USER-NAME&quot;</span> <span class="n">show</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="download-projects">
<h3>Download projects<a class="headerlink" href="#download-projects" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>#### Download XNAT projects onto your computer</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">copyxnat</span> <span class="o">--</span><span class="n">src_host</span> <span class="s2">&quot;https://YOUR-SERVER-URL&quot;</span> <span class="o">--</span><span class="n">src_user</span> <span class="s2">&quot;YOUR-USER-NAME&quot;</span> <span class="o">--</span><span class="n">project</span> <span class="s2">&quot;PROJECT1,PROJECT2&quot;</span> <span class="n">export</span>
</pre></div>
</div>
</li>
<li><p>#### Download all projects you have access to onto your computer</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">copyxnat</span> <span class="o">--</span><span class="n">src_host</span> <span class="s2">&quot;https://YOUR-SERVER-URL&quot;</span> <span class="o">--</span><span class="n">src_user</span> <span class="s2">&quot;YOUR-XNAT-USER-NAME&quot;</span> <span class="n">export</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="copy-projects-from-one-xnat-server-to-another">
<h3>Copy projects from one XNAT server to another<a class="headerlink" href="#copy-projects-from-one-xnat-server-to-another" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>#### Duplicate a project on a destination server</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">copyxnat</span> <span class="o">--</span><span class="n">src_host</span> <span class="s2">&quot;https://SOURCE-SERVER-URL&quot;</span> <span class="o">--</span><span class="n">src_user</span> <span class="s2">&quot;XNAT-USER-SOURCE&quot;</span> <span class="o">--</span><span class="n">project</span> <span class="s2">&quot;PROJECT-NAME&quot;</span> <span class="n">copy</span> <span class="o">--</span><span class="n">dst_host</span> <span class="s2">&quot;https://DEST-SERVER-URL&quot;</span> <span class="o">--</span><span class="n">dst_user</span> <span class="s2">&quot;XNAT-USER-DEST&quot;</span>
</pre></div>
</div>
</li>
<li><p>#### Duplicate a project and rename</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">copyxnat</span> <span class="o">--</span><span class="n">src_host</span> <span class="s2">&quot;https://SOURCE-SERVER-URL&quot;</span> <span class="o">--</span><span class="n">src_user</span> <span class="s2">&quot;XNAT-USER-SOURCE&quot;</span>  <span class="o">--</span><span class="n">project</span> <span class="s2">&quot;PROJECT-NAME:NEW-PROJECT-NAME&quot;</span> <span class="n">copy</span> <span class="o">--</span><span class="n">dst_host</span> <span class="s2">&quot;https://DEST-SERVER-URL&quot;</span> <span class="o">--</span><span class="n">dst_user</span> <span class="s2">&quot;XNAT-USER-DEST&quot;</span>
</pre></div>
</div>
</li>
<li><p>#### Duplicate a project on the same server (with a new name)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">copyxnat</span> <span class="o">--</span><span class="n">src_host</span> <span class="s2">&quot;https://SERVER-URL&quot;</span> <span class="o">--</span><span class="n">src_user</span> <span class="s2">&quot;XNAT-USER-SOURCE&quot;</span>  <span class="o">--</span><span class="n">project</span> <span class="s2">&quot;PROJECT-NAME:NEW-PROJECT-NAME&quot;</span> <span class="n">copy</span> <span class="o">--</span><span class="n">dst_host</span> <span class="s2">&quot;https://SERVER-URL&quot;</span> <span class="o">--</span><span class="n">dst_user</span> <span class="s2">&quot;XNAT-USER-DEST&quot;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="using-copyxnat-in-your-own-code">
<h2>Using CopyXnat in your own code<a class="headerlink" href="#using-copyxnat-in-your-own-code" title="Permalink to this headline">¶</a></h2>
<div class="section" id="importing-via-pip">
<h3>Importing via pip<a class="headerlink" href="#importing-via-pip" title="Permalink to this headline">¶</a></h3>
<p>You can import and run the module with <code class="docutils literal notranslate"><span class="pre">pip</span></code> and then import from your code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>from copyxnat.xnat.run_command import run_command

result = run_command(command_string=`show`,
                     src_host=src_host,
                     src_user=src_user,
                     src_pw=src_pw,
                     project_filter=None)
</pre></div>
</div>
</div>
<div class="section" id="local-development-running-the-command-line-utility-directly">
<h3>Local development: running the command-line utility directly<a class="headerlink" href="#local-development-running-the-command-line-utility-directly" title="Permalink to this headline">¶</a></h3>
<p>You can run directly from the source code. This is primarily useful if you are modifying the code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">-</span><span class="n">dev</span><span class="o">.</span><span class="n">txt</span>
<span class="n">python</span> <span class="n">copyxnat</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://tomdoel.github.io/copyxnat">Documentation</a></p></li>
<li><p><a class="reference external" href="https://github.com/tomdoel/copyxnat">Source code</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/copyxnat">PyPi</a></p></li>
<li><p><a class="reference external" href="https://hub.docker.com/r/tomdoel/copyxnat">Docker Hub</a></p></li>
</ul>
</div>
<div class="section" id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Tom Doel</p></li>
</ul>
</div>
<div class="section" id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p>Copyright 2021 Tom Doel</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>This project is released under the MIT License. Please see the <a class="reference external" href="LICENSE">license file</a> for details.</p>
<div class="section" id="api-reference">
<h3>API reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a>.</p>
<p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p>
<p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">copyxnat</a><ul>
<li class="toctree-l2"><a class="reference internal" href="copyxnat.html">copyxnat package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="copyxnat.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.commands.html">copyxnat.commands package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.pyreporter.html">copyxnat.pyreporter package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.ui.html">copyxnat.ui package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.utils.html">copyxnat.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.xnat.html">copyxnat.xnat package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.xnat_backend.html">copyxnat.xnat_backend package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="copyxnat.html#module-copyxnat">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="copyxnat.html">copyxnat package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="copyxnat.html#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.commands.html">copyxnat.commands package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.pyreporter.html">copyxnat.pyreporter package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.ui.html">copyxnat.ui package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.utils.html">copyxnat.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.xnat.html">copyxnat.xnat package</a></li>
<li class="toctree-l4"><a class="reference internal" href="copyxnat.xnat_backend.html">copyxnat.xnat_backend package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="copyxnat.html#module-copyxnat">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="versioneer.html">versioneer module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="versioneer.html#the-versioneer">The Versioneer</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/project-icon.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">CopyXnat</a><ul>
<li><a class="reference internal" href="#quick-start">Quick start</a><ul>
<li><a class="reference internal" href="#install-and-run-using-pip-python-3-6">Install and run using pip (Python 3.6+)</a></li>
<li><a class="reference internal" href="#install-and-run-using-docker">Install and run using Docker</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-use-cases">Example use cases</a><ul>
<li><a class="reference internal" href="#show-project-contents">Show project contents</a></li>
<li><a class="reference internal" href="#download-projects">Download projects</a></li>
<li><a class="reference internal" href="#copy-projects-from-one-xnat-server-to-another">Copy projects from one XNAT server to another</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-copyxnat-in-your-own-code">Using CopyXnat in your own code</a><ul>
<li><a class="reference internal" href="#importing-via-pip">Importing via pip</a></li>
<li><a class="reference internal" href="#local-development-running-the-command-line-utility-directly">Local development: running the command-line utility directly</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links">Links</a></li>
<li><a class="reference internal" href="#authors">Authors</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
<li><a class="reference internal" href="#license">License</a><ul>
<li><a class="reference internal" href="#api-reference">API reference</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">copyxnat</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="copyxnat"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">CopyXnat  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CopyXnat</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Tom Doel.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
  </body>
</html>