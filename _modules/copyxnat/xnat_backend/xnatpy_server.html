
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>copyxnat.xnat_backend.xnatpy_server &#8212; CopyXnat  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/classic.css" />
    
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">CopyXnat  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" accesskey="U">Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">copyxnat.xnat_backend.xnatpy_server</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for copyxnat.xnat_backend.xnatpy_server</h1><div class="highlight"><pre>
<span></span><span class="c1"># coding=utf-8</span>

<span class="sd">&quot;&quot;&quot;Wrappers for communicating between copyxnat items and pyXNAT backend items&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">xnat</span> <span class="kn">import</span> <span class="n">connect</span>
<span class="kn">from</span> <span class="nn">xnat.inspect</span> <span class="kn">import</span> <span class="n">Inspect</span>


<div class="viewcode-block" id="XnatPyServer"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer">[docs]</a><span class="k">class</span> <span class="nc">XnatPyServer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around XnatPy server interface&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span> <span class="o">=</span> <span class="n">connect</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">host</span><span class="p">,</span>
                                  <span class="n">user</span><span class="o">=</span><span class="n">params</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
                                  <span class="n">password</span><span class="o">=</span><span class="n">params</span><span class="o">.</span><span class="n">pwd</span><span class="p">,</span>
                                  <span class="n">verify</span><span class="o">=</span><span class="ow">not</span> <span class="n">params</span><span class="o">.</span><span class="n">insecure</span><span class="p">,</span>
                                  <span class="n">extension_types</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                                  <span class="c1"># no_parse_model=True)</span>

<div class="viewcode-block" id="XnatPyServer.fetch_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.fetch_interface">[docs]</a>    <span class="k">def</span> <span class="nf">fetch_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the pyxnat interface to this server&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span></div>

<div class="viewcode-block" id="XnatPyServer.project_list"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.project_list">[docs]</a>    <span class="k">def</span> <span class="nf">project_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of project ids&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">projects</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span></div>

<div class="viewcode-block" id="XnatPyServer.project_name_metadata"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.project_name_metadata">[docs]</a>    <span class="k">def</span> <span class="nf">project_name_metadata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return list of dictionaries containing project name metadata&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

        <span class="c1"># return [</span>
        <span class="c1">#     {&#39;ID&#39;: project[&#39;id&#39;],</span>
        <span class="c1">#      &#39;name&#39;: project[&#39;name_csv&#39;],</span>
        <span class="c1">#      &#39;secondary_ID&#39;: project[&#39;secondary_id&#39;]</span>
        <span class="c1">#      } for project in self.fetch_interface().select(</span>
        <span class="c1">#         &#39;xnat:projectData&#39;,</span>
        <span class="c1">#         [&#39;xnat:projectData/ID&#39;,</span>
        <span class="c1">#          &#39;xnat:projectData/name&#39;,</span>
        <span class="c1">#          &#39;xnat:projectData/secondary_ID&#39;]).all()</span>
        <span class="c1"># ]</span>

<div class="viewcode-block" id="XnatPyServer.projects"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.projects">[docs]</a>    <span class="k">def</span> <span class="nf">projects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of XnatPyProject projects&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">project_list</span><span class="p">():</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyServer.project"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.project">[docs]</a>    <span class="k">def</span> <span class="nf">project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return XnatPyProject project&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">XnatPyProject</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyServer.datatypes"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.datatypes">[docs]</a>    <span class="k">def</span> <span class="nf">datatypes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return datatypes on this server&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         return self.fetch_interface().inspect.datatypes()</span>

<div class="viewcode-block" id="XnatPyServer.logout"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.logout">[docs]</a>    <span class="k">def</span> <span class="nf">logout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Disconnect from server&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span></div>

<div class="viewcode-block" id="XnatPyServer.num_experiments"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.num_experiments">[docs]</a>    <span class="k">def</span> <span class="nf">num_experiments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">project</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return number of experiments in this project&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">experiments</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyServer.does_request_succeed"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.does_request_succeed">[docs]</a>    <span class="k">def</span> <span class="nf">does_request_succeed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">reporter</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute a REST call on the server and return True if it succeeds&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         try:</span>
<span class="c1">#             self.fetch_interface()._exec(uri, method)  # pylint: disable=protected-access</span>
<span class="c1">#             reporter.debug(&#39;Success executing {} call {}&#39;.format(method, uri))</span>
<span class="c1">#             return True</span>
<span class="c1">#</span>
<span class="c1">#         except Exception as exc:  # pylint: disable=broad-except</span>
<span class="c1">#             reporter.debug(&#39;Failure executing {} call {}: {}&#39;. format(</span>
<span class="c1">#                 method, uri, str(exc)))</span>
<span class="c1">#             return False</span>

<div class="viewcode-block" id="XnatPyServer.request_string"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.request_string">[docs]</a>    <span class="k">def</span> <span class="nf">request_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">reporter</span><span class="p">,</span> <span class="n">error_on_failure</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute a REST call on the server and return string&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         try:</span>
<span class="c1">#             result = self.fetch_interface()._exec(uri, &#39;GET&#39;)  # pylint: disable=protected-access</span>
<span class="c1">#             return result.decode(&quot;utf-8&quot;)</span>
<span class="c1">#</span>
<span class="c1">#         except Exception as exc:</span>
<span class="c1">#             message = &#39;Failure executing GET call {}: {}&#39;.format(uri, exc)</span>
<span class="c1">#             if error_on_failure:</span>
<span class="c1">#                 reporter.error(message)</span>
<span class="c1">#             else:</span>
<span class="c1">#                 reporter.log(message)</span>
<span class="c1">#             raise exc</span>

<div class="viewcode-block" id="XnatPyServer.request_json_property"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyServer.request_json_property">[docs]</a>    <span class="k">def</span> <span class="nf">request_json_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">uri</span><span class="p">,</span> <span class="n">reporter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Execute a REST call on the server and return string&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div></div>

<span class="c1">#         try:</span>
<span class="c1">#             result = self.fetch_interface()._exec(uri, &#39;GET&#39;)  # pylint: disable=protected-access</span>
<span class="c1">#             return json.loads(result.decode(&quot;utf-8&quot;))[&quot;ResultSet&quot;][&#39;Result&#39;]</span>
<span class="c1">#</span>
<span class="c1">#         except Exception as exc:</span>
<span class="c1">#             reporter.error(&#39;Failure executing GET call {}: {}&#39;.format(uri, exc))</span>
<span class="c1">#             raise exc</span>


<div class="viewcode-block" id="XnatPyItem"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem">[docs]</a><span class="k">class</span> <span class="nc">XnatPyItem</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Abstraction of wrappers around xnatPy interfaces&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span> <span class="o">=</span> <span class="n">interface</span>

<div class="viewcode-block" id="XnatPyItem.fetch_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.fetch_interface">[docs]</a>    <span class="k">def</span> <span class="nf">fetch_interface</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the pyxnat interface to this item&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span></div>

<div class="viewcode-block" id="XnatPyItem.create"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.create">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a new child item of this class type from given parent&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">interface</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">create_interface</span><span class="p">(</span>
                <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">(),</span>
                <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">),</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyItem.create_on_server"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.create_on_server">[docs]</a>    <span class="k">def</span> <span class="nf">create_on_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">local_file</span><span class="p">,</span> <span class="n">create_params</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">,</span> <span class="n">reporter</span><span class="p">):</span>  <span class="c1"># pylint: disable=unused-argument</span>
        <span class="sd">&quot;&quot;&quot;Create this item on the XNAT server if it does not already exist&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         self.fetch_interface().create(xml=local_file,</span>
<span class="c1">#                                       allowDataDeletion=False,</span>
<span class="c1">#                                       overwrite=overwrite)</span>

<div class="viewcode-block" id="XnatPyItem.datatype"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.datatype">[docs]</a>    <span class="k">def</span> <span class="nf">datatype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the XNAT datatype of this item&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         return self.fetch_interface().datatype()</span>

<div class="viewcode-block" id="XnatPyItem.get_xml_string"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.get_xml_string">[docs]</a>    <span class="k">def</span> <span class="nf">get_xml_string</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return XML representation of this XNAT item&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         return self.fetch_interface().get()</span>

<div class="viewcode-block" id="XnatPyItem.exists"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.exists">[docs]</a>    <span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return True if the item already exists on the server&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         return self.fetch_interface().exists()</span>

<div class="viewcode-block" id="XnatPyItem.get_label"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.get_label">[docs]</a>    <span class="k">def</span> <span class="nf">get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the XNAT label of this item, or ID if the label is empty&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">label</span> <span class="ow">or</span> \
                             <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span></div>

<div class="viewcode-block" id="XnatPyItem.get_id"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.get_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the XNAT ID of this item&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">id</span></div>

<div class="viewcode-block" id="XnatPyItem.get_attribute"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.get_attribute">[docs]</a>    <span class="k">def</span> <span class="nf">get_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the specified attribute from this item&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         return self.fetch_interface().attrs.get(name)</span>

<div class="viewcode-block" id="XnatPyItem.set_attribute"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.set_attribute">[docs]</a>    <span class="k">def</span> <span class="nf">set_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the specified attribute from this item&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         self.fetch_interface().attrs.set(name, value)</span>

<div class="viewcode-block" id="XnatPyItem.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItem.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a pyXnat child interface from the given pyXnat parent&quot;&quot;&quot;</span></div></div>


<div class="viewcode-block" id="XnatPyItemWithResources"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithResources">[docs]</a><span class="k">class</span> <span class="nc">XnatPyItemWithResources</span><span class="p">(</span><span class="n">XnatPyItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat interface that can contain resources&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyItemWithResources.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithResources.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a xnatpy child interface from the given xnatpy parent&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="XnatPyItemWithResources.resources"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithResources.resources">[docs]</a>    <span class="k">def</span> <span class="nf">resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return item&#39;s resources as an array of XnatPyResource wrappers&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">resource</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">XnatPyResource</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">resource</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="XnatPyItemWithInOutResources"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithInOutResources">[docs]</a><span class="k">class</span> <span class="nc">XnatPyItemWithInOutResources</span><span class="p">(</span><span class="n">XnatPyItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat interface that can contain resources&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyItemWithInOutResources.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithInOutResources.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a pyXnat child interface from the given pyXnat parent&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="XnatPyItemWithInOutResources.in_resources"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithInOutResources.in_resources">[docs]</a>    <span class="k">def</span> <span class="nf">in_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return item&#39;s in resources as an array of PyXnatResource wrappers&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         for in_resource in self.fetch_interface().in_resources():</span>
<span class="c1">#             yield PyXnatInResource(interface=in_resource)</span>

<div class="viewcode-block" id="XnatPyItemWithInOutResources.out_resources"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyItemWithInOutResources.out_resources">[docs]</a>    <span class="k">def</span> <span class="nf">out_resources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return item&#39;s out resources as an array of PyXnatResource wrappers&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div></div>

<span class="c1">#         for out_resource in self.fetch_interface().out_resources():</span>
<span class="c1">#             yield PyXnatOutResource(interface=out_resource)</span>


<div class="viewcode-block" id="XnatPyResourceBase"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResourceBase">[docs]</a><span class="k">class</span> <span class="nc">XnatPyResourceBase</span><span class="p">(</span><span class="n">XnatPyItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a xnatpy resource interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyResourceBase.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResourceBase.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="nd">@abc</span><span class="o">.</span><span class="n">abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a pyXnat child interface from the given pyXnat parent&quot;&quot;&quot;</span></div>

<div class="viewcode-block" id="XnatPyResourceBase.create_on_server"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResourceBase.create_on_server">[docs]</a>    <span class="k">def</span> <span class="nf">create_on_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">local_file</span><span class="p">,</span> <span class="n">create_params</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">,</span> <span class="n">reporter</span><span class="p">):</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         interface = self.fetch_interface()</span>
<span class="c1">#         if not interface.exists():</span>
<span class="c1">#             interface.create(</span>
<span class="c1">#                 params={&#39;content&#39;: create_params[&quot;resource_content&quot;],</span>
<span class="c1">#                         &#39;format&#39;: create_params[&quot;resource_format&quot;],</span>
<span class="c1">#                         &#39;tags&#39;: create_params[&quot;resource_tags&quot;],</span>
<span class="c1">#                         &#39;event_reason&#39;: &#39;&#39;})</span>
<span class="c1">#</span>
<span class="c1">#         if local_file:</span>
<span class="c1">#             interface.put_zip(</span>
<span class="c1">#                 zip_location=local_file,</span>
<span class="c1">#                 extract=True,</span>
<span class="c1">#                 overwrite=overwrite</span>
<span class="c1">#             )</span>
<span class="c1">#         else:</span>
<span class="c1">#             reporter.debug(&quot;Resource is empty or zip download is &quot;</span>
<span class="c1">#                                  &quot;disabled&quot;)</span>

<div class="viewcode-block" id="XnatPyResourceBase.download_zip_file"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResourceBase.download_zip_file">[docs]</a>    <span class="k">def</span> <span class="nf">download_zip_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_dir</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get zip file from server and save to disk&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         # Omit the save command if there are no files</span>
<span class="c1">#         files = self.fetch_interface().files().fetchall(&#39;obj&#39;)</span>
<span class="c1">#         if not files:</span>
<span class="c1">#             return None</span>
<span class="c1">#</span>
<span class="c1">#         return self.fetch_interface().get(save_dir, extract=False)</span>

<div class="viewcode-block" id="XnatPyResourceBase.files"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResourceBase.files">[docs]</a>    <span class="k">def</span> <span class="nf">files</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return item&#39;s files as an array of PyXnatFile wrappers&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
            <span class="n">f</span> <span class="o">=</span> <span class="n">file</span>
            <span class="k">yield</span> <span class="n">XnatPyFile</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">file</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">file</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyResourceBase.resource_attributes"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResourceBase.resource_attributes">[docs]</a>    <span class="k">def</span> <span class="nf">resource_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get file from server and save to disk&quot;&quot;&quot;</span>

        <span class="n">attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;resource_content&#39;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">),</span>
                <span class="s1">&#39;resource_format&#39;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;format&#39;</span><span class="p">),</span>
                <span class="s1">&#39;resource_tags&#39;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">)}</span></div></div>


<div class="viewcode-block" id="XnatPyResource"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResource">[docs]</a><span class="k">class</span> <span class="nc">XnatPyResource</span><span class="p">(</span><span class="n">XnatPyResourceBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat resource interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyResource.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyResource.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="XnatPyInResource"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyInResource">[docs]</a><span class="k">class</span> <span class="nc">XnatPyInResource</span><span class="p">(</span><span class="n">XnatPyResourceBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat in resource interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyInResource.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyInResource.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div></div>

<span class="c1">#         return parent.in_resource(label)</span>


<div class="viewcode-block" id="XnatPyOutResource"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyOutResource">[docs]</a><span class="k">class</span> <span class="nc">XnatPyOutResource</span><span class="p">(</span><span class="n">XnatPyResourceBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat out resource interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyOutResource.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyOutResource.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div></div>

<span class="c1">#         return parent.out_resource(label)</span>


<div class="viewcode-block" id="XnatPyFile"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile">[docs]</a><span class="k">class</span> <span class="nc">XnatPyFile</span><span class="p">(</span><span class="n">XnatPyItem</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a xnatpy file interface&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interface</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_interface</span> <span class="o">=</span> <span class="n">interface</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span> <span class="o">=</span> <span class="n">parent</span>

<div class="viewcode-block" id="XnatPyFile.create"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.create">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span>
            <span class="n">interface</span><span class="o">=</span><span class="bp">cls</span><span class="o">.</span><span class="n">create_interface</span><span class="p">(</span>
                <span class="n">parent</span><span class="o">=</span><span class="n">parent</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">(),</span>
                <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">),</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
            <span class="n">parent</span><span class="o">=</span><span class="n">parent</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyFile.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">label</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyFile.get_label"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.get_label">[docs]</a>    <span class="k">def</span> <span class="nf">get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the XNAT label of this item, or ID if the label is empty&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span></div>

<div class="viewcode-block" id="XnatPyFile.get_id"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.get_id">[docs]</a>    <span class="k">def</span> <span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the XNAT ID of this item&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span></div>

<div class="viewcode-block" id="XnatPyFile.create_on_server"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.create_on_server">[docs]</a>    <span class="k">def</span> <span class="nf">create_on_server</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">local_file</span><span class="p">,</span> <span class="n">create_params</span><span class="p">,</span> <span class="n">overwrite</span><span class="p">,</span> <span class="n">reporter</span><span class="p">):</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         if local_file:</span>
<span class="c1">#             self.fetch_interface().put(</span>
<span class="c1">#                 local_file,</span>
<span class="c1">#                 content=create_params[&quot;file_content&quot;] or None,</span>
<span class="c1">#                 format=create_params[&quot;file_format&quot;] or None,</span>
<span class="c1">#                 tags=create_params[&quot;file_tags&quot;] or None,</span>
<span class="c1">#                 overwrite=overwrite</span>
<span class="c1">#             )</span>
<span class="c1">#         else:</span>
<span class="c1">#             reporter.log_verbose(&quot;Resource is empty or zip download is &quot;</span>
<span class="c1">#                                  &quot;disabled&quot;)</span>

<div class="viewcode-block" id="XnatPyFile.download_file"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.download_file">[docs]</a>    <span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">save_dir</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get file from server and save to disk&quot;&quot;&quot;</span>

        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s1">&#39;This method is not yet supported&#39;</span><span class="p">)</span></div>

<span class="c1">#         if not label:</span>
<span class="c1">#             raise ValueError(&#39;No file label!&#39;)</span>
<span class="c1">#</span>
<span class="c1">#         # If label is a path, extract out only the name to be used for the file</span>
<span class="c1">#         _, name = os.path.split(label) or &#39;file&#39;</span>
<span class="c1">#</span>
<span class="c1">#         file_path = os.path.join(save_dir, name)</span>
<span class="c1">#         self.fetch_interface().get(file_path)</span>
<span class="c1">#         return file_path</span>

<div class="viewcode-block" id="XnatPyFile.file_attributes"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyFile.file_attributes">[docs]</a>    <span class="k">def</span> <span class="nf">file_attributes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get file from server and save to disk&quot;&quot;&quot;</span>

        <span class="n">i</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span>
        <span class="n">attrs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">data</span>
        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;file_content&#39;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;file_content&#39;</span><span class="p">),</span>
                <span class="s1">&#39;file_format&#39;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;file_format&#39;</span><span class="p">),</span>
                <span class="s1">&#39;file_tags&#39;</span><span class="p">:</span> <span class="n">attrs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;file_tags&#39;</span><span class="p">)}</span></div></div>


<div class="viewcode-block" id="XnatPyProject"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyProject">[docs]</a><span class="k">class</span> <span class="nc">XnatPyProject</span><span class="p">(</span><span class="n">XnatPyItemWithResources</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat project interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyProject.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyProject.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">projects</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div>

<div class="viewcode-block" id="XnatPyProject.subjects"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyProject.subjects">[docs]</a>    <span class="k">def</span> <span class="nf">subjects</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of XnatPySubject wrappers for this project&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">subjects</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">XnatPySubject</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">subject</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="XnatPySubject"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPySubject">[docs]</a><span class="k">class</span> <span class="nc">XnatPySubject</span><span class="p">(</span><span class="n">XnatPyItemWithResources</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat subject interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPySubject.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPySubject.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">subjects</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div>

<div class="viewcode-block" id="XnatPySubject.experiments"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPySubject.experiments">[docs]</a>    <span class="k">def</span> <span class="nf">experiments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of XnatPyExperiment wrappers for this subject&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">experiment</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">experiments</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">XnatPyExperiment</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">experiment</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="XnatPyExperiment"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyExperiment">[docs]</a><span class="k">class</span> <span class="nc">XnatPyExperiment</span><span class="p">(</span><span class="n">XnatPyItemWithResources</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat experiment interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyExperiment.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyExperiment.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">experiments</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div>

<div class="viewcode-block" id="XnatPyExperiment.scans"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyExperiment.scans">[docs]</a>    <span class="k">def</span> <span class="nf">scans</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of PyXnatScan wrappers for this experiment&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">scan</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">scans</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">XnatPyScan</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">scan</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyExperiment.assessors"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyExperiment.assessors">[docs]</a>    <span class="k">def</span> <span class="nf">assessors</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of XnatPyAssessor wrappers for this experiment&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">assessor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">assessors</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="k">yield</span> <span class="n">XnatPyAssessor</span><span class="p">(</span><span class="n">interface</span><span class="o">=</span><span class="n">assessor</span><span class="p">)</span></div>

<div class="viewcode-block" id="XnatPyExperiment.reconstructions"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyExperiment.reconstructions">[docs]</a>    <span class="k">def</span> <span class="nf">reconstructions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return array of XnatPyReconstruction wrappers for this experiment&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reconstructions not currently supported!&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span></div></div>
        <span class="c1"># for reconstruction in self.fetch_interface().reconstructions.values():</span>
        <span class="c1">#     yield XnatPyReconstruction(interface=reconstruction)</span>


<div class="viewcode-block" id="XnatPyScan"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyScan">[docs]</a><span class="k">class</span> <span class="nc">XnatPyScan</span><span class="p">(</span><span class="n">XnatPyItemWithResources</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat scan interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyScan.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyScan.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">scans</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div>

<div class="viewcode-block" id="XnatPyScan.get_label"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyScan.get_label">[docs]</a>    <span class="k">def</span> <span class="nf">get_label</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the XNAT label of this item, or ID if the label is empty&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fetch_interface</span><span class="p">()</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span></div></div>


<div class="viewcode-block" id="XnatPyAssessor"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyAssessor">[docs]</a><span class="k">class</span> <span class="nc">XnatPyAssessor</span><span class="p">(</span><span class="n">XnatPyItemWithInOutResources</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a xnatPy assessor interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyAssessor.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyAssessor.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">assessors</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div></div>


<div class="viewcode-block" id="XnatPyReconstruction"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyReconstruction">[docs]</a><span class="k">class</span> <span class="nc">XnatPyReconstruction</span><span class="p">(</span><span class="n">XnatPyItemWithInOutResources</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Wrapper around a pyxnat reconstruction interface&quot;&quot;&quot;</span>

<div class="viewcode-block" id="XnatPyReconstruction.create_interface"><a class="viewcode-back" href="../../../copyxnat.xnat_backend.xnatpy_server.html#copyxnat.xnat_backend.xnatpy_server.XnatPyReconstruction.create_interface">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">create_interface</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">.</span><span class="n">reconstructions</span><span class="p">[</span><span class="n">label</span><span class="p">]</span></div></div>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/project-icon.png" alt="Logo"/>
            </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">CopyXnat  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">copyxnat.xnat_backend.xnatpy_server</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Tom Doel.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.2.
    </div>
  </body>
</html>